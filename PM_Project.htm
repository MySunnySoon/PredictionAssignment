<html>

<head>
<meta http-equiv=Content-Type content="text/html; charset=windows-1252">
<meta name=Generator content="Microsoft Word 15 (filtered)">
<title>Prediction Assignment Writeup</title>
<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:SimSun;
	panose-1:2 1 6 0 3 1 1 1 1 1;}
@font-face
	{font-family:"Cambria Math";
	panose-1:2 4 5 3 5 4 6 3 2 4;}
@font-face
	{font-family:Calibri;
	panose-1:2 15 5 2 2 2 4 3 2 4;}
@font-face
	{font-family:Cambria;
	panose-1:2 4 5 3 5 4 6 3 2 4;}
@font-face
	{font-family:Consolas;
	panose-1:2 11 6 9 2 2 4 3 2 4;}
@font-face
	{font-family:"\@SimSun";
	panose-1:2 1 6 0 3 1 1 1 1 1;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:10.0pt;
	margin-left:0in;
	font-size:12.0pt;
	font-family:"Cambria",serif;}
h1
	{margin-top:24.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	margin-bottom:.0001pt;
	page-break-after:avoid;
	font-size:16.0pt;
	font-family:"Calibri",sans-serif;
	color:#345A8A;}
h2
	{margin-top:10.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	margin-bottom:.0001pt;
	page-break-after:avoid;
	font-size:16.0pt;
	font-family:"Calibri",sans-serif;
	color:#4F81BD;}
h3
	{margin-top:10.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	margin-bottom:.0001pt;
	page-break-after:avoid;
	font-size:14.0pt;
	font-family:"Calibri",sans-serif;
	color:#4F81BD;}
h4
	{margin-top:10.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	margin-bottom:.0001pt;
	page-break-after:avoid;
	font-size:12.0pt;
	font-family:"Calibri",sans-serif;
	color:#4F81BD;}
h5
	{margin-top:10.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	margin-bottom:.0001pt;
	page-break-after:avoid;
	font-size:12.0pt;
	font-family:"Calibri",sans-serif;
	color:#4F81BD;
	font-weight:normal;
	font-style:italic;}
h6
	{margin-top:10.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	margin-bottom:.0001pt;
	page-break-after:avoid;
	font-size:12.0pt;
	font-family:"Calibri",sans-serif;
	color:#4F81BD;
	font-weight:normal;}
p.MsoHeading7, li.MsoHeading7, div.MsoHeading7
	{margin-top:10.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	margin-bottom:.0001pt;
	page-break-after:avoid;
	font-size:12.0pt;
	font-family:"Calibri",sans-serif;
	color:#4F81BD;}
p.MsoHeading8, li.MsoHeading8, div.MsoHeading8
	{margin-top:10.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	margin-bottom:.0001pt;
	page-break-after:avoid;
	font-size:12.0pt;
	font-family:"Calibri",sans-serif;
	color:#4F81BD;}
p.MsoHeading9, li.MsoHeading9, div.MsoHeading9
	{margin-top:10.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	margin-bottom:.0001pt;
	page-break-after:avoid;
	font-size:12.0pt;
	font-family:"Calibri",sans-serif;
	color:#4F81BD;}
p.MsoFootnoteText, li.MsoFootnoteText, div.MsoFootnoteText
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:10.0pt;
	margin-left:0in;
	font-size:12.0pt;
	font-family:"Cambria",serif;}
p.MsoCaption, li.MsoCaption, div.MsoCaption
	{mso-style-link:"Caption Char";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:6.0pt;
	margin-left:0in;
	font-size:12.0pt;
	font-family:"Cambria",serif;
	font-style:italic;}
span.MsoFootnoteReference
	{vertical-align:super;}
p.MsoTitle, li.MsoTitle, div.MsoTitle
	{margin-top:24.0pt;
	margin-right:0in;
	margin-bottom:12.0pt;
	margin-left:0in;
	text-align:center;
	page-break-after:avoid;
	font-size:18.0pt;
	font-family:"Calibri",sans-serif;
	color:#345A8A;
	font-weight:bold;}
p.MsoBodyText, li.MsoBodyText, div.MsoBodyText
	{margin-top:9.0pt;
	margin-right:0in;
	margin-bottom:9.0pt;
	margin-left:0in;
	font-size:12.0pt;
	font-family:"Cambria",serif;}
p.MsoSubtitle, li.MsoSubtitle, div.MsoSubtitle
	{margin-top:12.0pt;
	margin-right:0in;
	margin-bottom:12.0pt;
	margin-left:0in;
	text-align:center;
	page-break-after:avoid;
	font-size:15.0pt;
	font-family:"Calibri",sans-serif;
	color:#345A8A;
	font-weight:bold;}
p.MsoDate, li.MsoDate, div.MsoDate
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:10.0pt;
	margin-left:0in;
	text-align:center;
	page-break-after:avoid;
	font-size:12.0pt;
	font-family:"Cambria",serif;}
p.MsoBlockText, li.MsoBlockText, div.MsoBlockText
	{margin-top:5.0pt;
	margin-right:0in;
	margin-bottom:5.0pt;
	margin-left:0in;
	font-size:10.0pt;
	font-family:"Calibri",sans-serif;}
a:link, span.MsoHyperlink
	{color:#4F81BD;}
a:visited, span.MsoHyperlinkFollowed
	{color:purple;
	text-decoration:underline;}
p.MsoBibliography, li.MsoBibliography, div.MsoBibliography
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:10.0pt;
	margin-left:0in;
	font-size:12.0pt;
	font-family:"Cambria",serif;}
p.MsoTocHeading, li.MsoTocHeading, div.MsoTocHeading
	{margin-top:12.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	margin-bottom:.0001pt;
	line-height:107%;
	page-break-after:avoid;
	font-size:16.0pt;
	font-family:"Calibri",sans-serif;
	color:#365F91;}
p.FirstParagraph, li.FirstParagraph, div.FirstParagraph
	{mso-style-name:"First Paragraph";
	margin-top:9.0pt;
	margin-right:0in;
	margin-bottom:9.0pt;
	margin-left:0in;
	font-size:12.0pt;
	font-family:"Cambria",serif;}
p.Compact, li.Compact, div.Compact
	{mso-style-name:Compact;
	margin-top:1.8pt;
	margin-right:0in;
	margin-bottom:1.8pt;
	margin-left:0in;
	font-size:12.0pt;
	font-family:"Cambria",serif;}
p.Author, li.Author, div.Author
	{mso-style-name:Author;
	margin-top:0in;
	margin-right:0in;
	margin-bottom:10.0pt;
	margin-left:0in;
	text-align:center;
	page-break-after:avoid;
	font-size:12.0pt;
	font-family:"Cambria",serif;}
p.Abstract, li.Abstract, div.Abstract
	{mso-style-name:Abstract;
	margin-top:15.0pt;
	margin-right:0in;
	margin-bottom:15.0pt;
	margin-left:0in;
	page-break-after:avoid;
	font-size:10.0pt;
	font-family:"Cambria",serif;}
p.DefinitionTerm, li.DefinitionTerm, div.DefinitionTerm
	{mso-style-name:"Definition Term";
	margin:0in;
	margin-bottom:.0001pt;
	page-break-after:avoid;
	font-size:12.0pt;
	font-family:"Cambria",serif;
	font-weight:bold;}
p.Definition, li.Definition, div.Definition
	{mso-style-name:Definition;
	margin-top:0in;
	margin-right:0in;
	margin-bottom:10.0pt;
	margin-left:0in;
	font-size:12.0pt;
	font-family:"Cambria",serif;}
p.TableCaption, li.TableCaption, div.TableCaption
	{mso-style-name:"Table Caption";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:6.0pt;
	margin-left:0in;
	page-break-after:avoid;
	font-size:12.0pt;
	font-family:"Cambria",serif;
	font-style:italic;}
p.ImageCaption, li.ImageCaption, div.ImageCaption
	{mso-style-name:"Image Caption";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:6.0pt;
	margin-left:0in;
	font-size:12.0pt;
	font-family:"Cambria",serif;
	font-style:italic;}
p.Figure, li.Figure, div.Figure
	{mso-style-name:Figure;
	margin-top:0in;
	margin-right:0in;
	margin-bottom:10.0pt;
	margin-left:0in;
	font-size:12.0pt;
	font-family:"Cambria",serif;}
p.CaptionedFigure, li.CaptionedFigure, div.CaptionedFigure
	{mso-style-name:"Captioned Figure";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:10.0pt;
	margin-left:0in;
	page-break-after:avoid;
	font-size:12.0pt;
	font-family:"Cambria",serif;}
span.CaptionChar
	{mso-style-name:"Caption Char";
	mso-style-link:Caption;}
span.VerbatimChar
	{mso-style-name:"Verbatim Char";
	mso-style-link:"Source Code";
	font-family:Consolas;}
p.SourceCode, li.SourceCode, div.SourceCode
	{mso-style-name:"Source Code";
	mso-style-link:"Verbatim Char";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:10.0pt;
	margin-left:0in;
	background:#F8F8F8;
	word-break:break-all;
	font-size:12.0pt;
	font-family:"Cambria",serif;}
span.KeywordTok
	{mso-style-name:KeywordTok;
	font-family:Consolas;
	color:#204A87;
	background:#F8F8F8;
	font-weight:bold;}
span.DataTypeTok
	{mso-style-name:DataTypeTok;
	font-family:Consolas;
	color:#204A87;
	background:#F8F8F8;}
span.DecValTok
	{mso-style-name:DecValTok;
	font-family:Consolas;
	color:#0000CF;
	background:#F8F8F8;}
span.BaseNTok
	{mso-style-name:BaseNTok;
	font-family:Consolas;
	color:#0000CF;
	background:#F8F8F8;}
span.FloatTok
	{mso-style-name:FloatTok;
	font-family:Consolas;
	color:#0000CF;
	background:#F8F8F8;}
span.ConstantTok
	{mso-style-name:ConstantTok;
	font-family:Consolas;
	color:black;
	background:#F8F8F8;}
span.CharTok
	{mso-style-name:CharTok;
	font-family:Consolas;
	color:#4E9A06;
	background:#F8F8F8;}
span.SpecialCharTok
	{mso-style-name:SpecialCharTok;
	font-family:Consolas;
	color:black;
	background:#F8F8F8;}
span.StringTok
	{mso-style-name:StringTok;
	font-family:Consolas;
	color:#4E9A06;
	background:#F8F8F8;}
span.VerbatimStringTok
	{mso-style-name:VerbatimStringTok;
	font-family:Consolas;
	color:#4E9A06;
	background:#F8F8F8;}
span.SpecialStringTok
	{mso-style-name:SpecialStringTok;
	font-family:Consolas;
	color:#4E9A06;
	background:#F8F8F8;}
span.ImportTok
	{mso-style-name:ImportTok;
	font-family:Consolas;
	background:#F8F8F8;}
span.CommentTok
	{mso-style-name:CommentTok;
	font-family:Consolas;
	color:#8F5902;
	background:#F8F8F8;
	font-style:italic;}
span.DocumentationTok
	{mso-style-name:DocumentationTok;
	font-family:Consolas;
	color:#8F5902;
	background:#F8F8F8;
	font-weight:bold;
	font-style:italic;}
span.AnnotationTok
	{mso-style-name:AnnotationTok;
	font-family:Consolas;
	color:#8F5902;
	background:#F8F8F8;
	font-weight:bold;
	font-style:italic;}
span.CommentVarTok
	{mso-style-name:CommentVarTok;
	font-family:Consolas;
	color:#8F5902;
	background:#F8F8F8;
	font-weight:bold;
	font-style:italic;}
span.OtherTok
	{mso-style-name:OtherTok;
	font-family:Consolas;
	color:#8F5902;
	background:#F8F8F8;}
span.FunctionTok
	{mso-style-name:FunctionTok;
	font-family:Consolas;
	color:black;
	background:#F8F8F8;}
span.VariableTok
	{mso-style-name:VariableTok;
	font-family:Consolas;
	color:black;
	background:#F8F8F8;}
span.ControlFlowTok
	{mso-style-name:ControlFlowTok;
	font-family:Consolas;
	color:#204A87;
	background:#F8F8F8;
	font-weight:bold;}
span.OperatorTok
	{mso-style-name:OperatorTok;
	font-family:Consolas;
	color:#CE5C00;
	background:#F8F8F8;
	font-weight:bold;}
span.BuiltInTok
	{mso-style-name:BuiltInTok;
	font-family:Consolas;
	background:#F8F8F8;}
span.ExtensionTok
	{mso-style-name:ExtensionTok;
	font-family:Consolas;
	background:#F8F8F8;}
span.PreprocessorTok
	{mso-style-name:PreprocessorTok;
	font-family:Consolas;
	color:#8F5902;
	background:#F8F8F8;
	font-style:italic;}
span.AttributeTok
	{mso-style-name:AttributeTok;
	font-family:Consolas;
	color:#C4A000;
	background:#F8F8F8;}
span.RegionMarkerTok
	{mso-style-name:RegionMarkerTok;
	font-family:Consolas;
	background:#F8F8F8;}
span.InformationTok
	{mso-style-name:InformationTok;
	font-family:Consolas;
	color:#8F5902;
	background:#F8F8F8;
	font-weight:bold;
	font-style:italic;}
span.WarningTok
	{mso-style-name:WarningTok;
	font-family:Consolas;
	color:#8F5902;
	background:#F8F8F8;
	font-weight:bold;
	font-style:italic;}
span.AlertTok
	{mso-style-name:AlertTok;
	font-family:Consolas;
	color:#EF2929;
	background:#F8F8F8;}
span.ErrorTok
	{mso-style-name:ErrorTok;
	font-family:Consolas;
	color:#A40000;
	background:#F8F8F8;
	font-weight:bold;}
span.NormalTok
	{mso-style-name:NormalTok;
	font-family:Consolas;
	background:#F8F8F8;}
.MsoChpDefault
	{font-size:12.0pt;
	font-family:"Cambria",serif;}
.MsoPapDefault
	{margin-bottom:10.0pt;}
 /* Page Definitions */
 @page WordSection1
	{size:8.5in 11.0in;
	margin:1.0in 1.0in 1.0in 1.0in;}
div.WordSection1
	{page:WordSection1;}
 /* List Definitions */
 ol
	{margin-bottom:0in;}
ul
	{margin-bottom:0in;}
-->
</style>

</head>

<body lang=EN-US link="#4F81BD" vlink=purple>

<div class=WordSection1>

<p class=MsoTitle>Prediction Assignment Writeup</p>

<h1><a name=instructions>Instructions</a></h1>

<p class=FirstParagraph>In this project, we use data from accelerometers on the
belt, forearm, arm, and dumbell of 6 participants that were asked to perform
barbell lifts correctly and incorrectly in 5 different ways. More information
is available from the website here: <a
href="http://web.archive.org/web/20161224072740/http:/groupware.les.inf.puc-rio.br/har">http://web.archive.org/web/20161224072740/http:/groupware.les.inf.puc-rio.br/har</a>
(see the section on the Weight Lifting Exercise Dataset).</p>

<p class=MsoBodyText>The goal is to predict the manner in which they did the
exercise. This is the “classe” variable in the training set. You may use any of
the other variables to predict with. You should create a report describing how
you built your model, how you used cross validation, what you think the
expected out of sample error is, and why you made the choices you did. You will
also use your prediction model to predict 20 different test cases.</p>

<h1><a name=summary-of-data>Summary of Data</a></h1>

<p class=SourceCode><span class=KeywordTok><span style='font-size:11.0pt'>rm</span></span><span
class=NormalTok><span style='font-size:11.0pt'>(</span></span><span
class=DataTypeTok><span style='font-size:11.0pt'>list =</span></span><span
class=NormalTok><span style='font-size:11.0pt'> </span></span><span
class=KeywordTok><span style='font-size:11.0pt'>ls</span></span><span
class=NormalTok><span style='font-size:11.0pt'>())</span></span><br>
<span class=KeywordTok><span style='font-size:11.0pt'>library</span></span><span
class=NormalTok><span style='font-size:11.0pt'>(lattice); </span></span><br>
<span class=KeywordTok><span style='font-size:11.0pt'>library</span></span><span
class=NormalTok><span style='font-size:11.0pt'>(ggplot2); </span></span><br>
<span class=KeywordTok><span style='font-size:11.0pt'>library</span></span><span
class=NormalTok><span style='font-size:11.0pt'>(caret); </span></span><br>
<span class=KeywordTok><span style='font-size:11.0pt'>library</span></span><span
class=NormalTok><span style='font-size:11.0pt'>(randomForest); </span></span></p>

<p class=SourceCode><span class=VerbatimChar><span style='font-size:11.0pt'>##
randomForest 4.6-14</span></span></p>

<p class=SourceCode><span class=VerbatimChar><span style='font-size:11.0pt'>##
Type rfNews() to see new features/changes/bug fixes.</span></span></p>

<p class=SourceCode><span class=VerbatimChar><span style='font-size:11.0pt'>## </span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>## Attaching package:
'randomForest'</span></span></p>

<p class=SourceCode><span class=VerbatimChar><span style='font-size:11.0pt'>##
The following object is masked from 'package:ggplot2':</span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>## </span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>##     margin</span></span></p>

<p class=SourceCode><span class=KeywordTok><span style='font-size:11.0pt'>library</span></span><span
class=NormalTok><span style='font-size:11.0pt'>(rpart); </span></span><br>
<span class=KeywordTok><span style='font-size:11.0pt'>library</span></span><span
class=NormalTok><span style='font-size:11.0pt'>(rpart.plot);</span></span><br>
<span class=KeywordTok><span style='font-size:11.0pt'>library</span></span><span
class=NormalTok><span style='font-size:11.0pt'>(rattle)</span></span></p>

<p class=SourceCode><span class=VerbatimChar><span style='font-size:11.0pt'>##
Loading required package: tibble</span></span></p>

<p class=SourceCode><span class=VerbatimChar><span style='font-size:11.0pt'>##
Loading required package: bitops</span></span></p>

<p class=SourceCode><span class=VerbatimChar><span style='font-size:11.0pt'>##
Rattle: A free graphical interface for data science with R.</span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>## Version 5.4.0
Copyright (c) 2006-2020 Togaware Pty Ltd.</span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>## Type 'rattle()' to
shake, rattle, and roll your data.</span></span></p>

<p class=SourceCode><span class=VerbatimChar><span style='font-size:11.0pt'>## </span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>## Attaching package:
'rattle'</span></span></p>

<p class=SourceCode><span class=VerbatimChar><span style='font-size:11.0pt'>##
The following object is masked from 'package:randomForest':</span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>## </span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>##     importance</span></span></p>

<h1><a name=load-and-partition-data>Load and partition data</a></h1>

<p class=SourceCode><span class=KeywordTok><span style='font-size:11.0pt'>set.seed</span></span><span
class=NormalTok><span style='font-size:11.0pt'>(</span></span><span
class=DecValTok><span style='font-size:11.0pt'>4321</span></span><span
class=NormalTok><span style='font-size:11.0pt'>)</span></span><br>
<br>
<span class=CommentTok><span style='font-size:11.0pt'># data load and clean up</span></span><br>
<span class=NormalTok><span style='font-size:11.0pt'>trainfileUrl &lt;-</span></span><span
class=StringTok><span style='font-size:11.0pt'>
&quot;http://d396qusza40orc.cloudfront.net/predmachlearn/pml-training.csv&quot;</span></span><br>
<span class=NormalTok><span style='font-size:11.0pt'>testfileUrl &lt;-</span></span><span
class=StringTok><span style='font-size:11.0pt'>
&quot;http://d396qusza40orc.cloudfront.net/predmachlearn/pml-testing.csv&quot;</span></span><br>
<br>
<span class=NormalTok><span style='font-size:11.0pt'>trainfilename&lt;-</span></span><span
class=StringTok><span style='font-size:11.0pt'>&quot;./pml-training.csv&quot;</span></span><br>
<span class=ControlFlowTok><span style='font-size:11.0pt'>if</span></span><span
class=NormalTok><span style='font-size:11.0pt'>(</span></span><span
class=OperatorTok><span style='font-size:11.0pt'>!</span></span><span
class=KeywordTok><span style='font-size:11.0pt'>file.exists</span></span><span
class=NormalTok><span style='font-size:11.0pt'>(trainfilename)) {</span></span><br>
<span class=NormalTok><span style='font-size:11.0pt'>  </span></span><span
class=KeywordTok><span style='font-size:11.0pt'>download.file</span></span><span
class=NormalTok><span style='font-size:11.0pt'>(trainfileURL, trainfilename, </span></span><span
class=DataTypeTok><span style='font-size:11.0pt'>method =</span></span><span
class=NormalTok><span style='font-size:11.0pt'> </span></span><span
class=StringTok><span style='font-size:11.0pt'>&quot;curl&quot;</span></span><span
class=NormalTok><span style='font-size:11.0pt'>)</span></span><br>
<span class=NormalTok><span style='font-size:11.0pt'>}</span></span><br>
<span class=NormalTok><span style='font-size:11.0pt'>testfilename&lt;-</span></span><span
class=StringTok><span style='font-size:11.0pt'>&quot;./pml-testing.csv&quot;</span></span><br>
<span class=ControlFlowTok><span style='font-size:11.0pt'>if</span></span><span
class=NormalTok><span style='font-size:11.0pt'>(</span></span><span
class=OperatorTok><span style='font-size:11.0pt'>!</span></span><span
class=KeywordTok><span style='font-size:11.0pt'>file.exists</span></span><span
class=NormalTok><span style='font-size:11.0pt'>(testfilename)) {</span></span><br>
<span class=NormalTok><span style='font-size:11.0pt'>  </span></span><span
class=KeywordTok><span style='font-size:11.0pt'>download.file</span></span><span
class=NormalTok><span style='font-size:11.0pt'>(testfileURL, testfilename, </span></span><span
class=DataTypeTok><span style='font-size:11.0pt'>method =</span></span><span
class=NormalTok><span style='font-size:11.0pt'> </span></span><span
class=StringTok><span style='font-size:11.0pt'>&quot;curl&quot;</span></span><span
class=NormalTok><span style='font-size:11.0pt'>)</span></span><br>
<span class=NormalTok><span style='font-size:11.0pt'>}</span></span><br>
<br>
<span class=NormalTok><span style='font-size:11.0pt'>training &lt;-</span></span><span
class=StringTok><span style='font-size:11.0pt'> </span></span><span
class=KeywordTok><span style='font-size:11.0pt'>read.csv</span></span><span
class=NormalTok><span style='font-size:11.0pt'>(trainfilename, </span></span><span
class=DataTypeTok><span style='font-size:11.0pt'>na.strings=</span></span><span
class=KeywordTok><span style='font-size:11.0pt'>c</span></span><span
class=NormalTok><span style='font-size:11.0pt'>(</span></span><span
class=StringTok><span style='font-size:11.0pt'>&quot;NA&quot;</span></span><span
class=NormalTok><span style='font-size:11.0pt'>,</span></span><span
class=StringTok><span style='font-size:11.0pt'>&quot;#DIV/0!&quot;</span></span><span
class=NormalTok><span style='font-size:11.0pt'>, </span></span><span
class=StringTok><span style='font-size:11.0pt'>&quot;&quot;</span></span><span
class=NormalTok><span style='font-size:11.0pt'>))</span></span><br>
<span class=NormalTok><span style='font-size:11.0pt'>testing &lt;-</span></span><span
class=StringTok><span style='font-size:11.0pt'> </span></span><span
class=KeywordTok><span style='font-size:11.0pt'>read.csv</span></span><span
class=NormalTok><span style='font-size:11.0pt'>(testfilename, </span></span><span
class=DataTypeTok><span style='font-size:11.0pt'>na.strings=</span></span><span
class=KeywordTok><span style='font-size:11.0pt'>c</span></span><span
class=NormalTok><span style='font-size:11.0pt'>(</span></span><span
class=StringTok><span style='font-size:11.0pt'>&quot;NA&quot;</span></span><span
class=NormalTok><span style='font-size:11.0pt'>,</span></span><span
class=StringTok><span style='font-size:11.0pt'>&quot;#DIV/0!&quot;</span></span><span
class=NormalTok><span style='font-size:11.0pt'>, </span></span><span
class=StringTok><span style='font-size:11.0pt'>&quot;&quot;</span></span><span
class=NormalTok><span style='font-size:11.0pt'>))</span></span><br>
<br>
<span class=CommentTok><span style='font-size:11.0pt'># Perform exploratory
analysis - </span></span><br>
<span class=KeywordTok><span style='font-size:11.0pt'>dim</span></span><span
class=NormalTok><span style='font-size:11.0pt'>(training); </span></span></p>

<p class=SourceCode><span class=VerbatimChar><span style='font-size:11.0pt'>##
[1] 19622   160</span></span></p>

<p class=SourceCode><span class=CommentTok><span style='font-size:11.0pt'>#
str(training); </span></span><br>
<span class=CommentTok><span style='font-size:11.0pt'># head(training);</span></span><br>
<br>
<span class=CommentTok><span style='font-size:11.0pt'># Remove variables with
near zero variance</span></span><br>
<span class=NormalTok><span style='font-size:11.0pt'>training &lt;-</span></span><span
class=StringTok><span style='font-size:11.0pt'> </span></span><span
class=NormalTok><span style='font-size:11.0pt'>training[,</span></span><span
class=KeywordTok><span style='font-size:11.0pt'>colSums</span></span><span
class=NormalTok><span style='font-size:11.0pt'>(</span></span><span
class=KeywordTok><span style='font-size:11.0pt'>is.na</span></span><span
class=NormalTok><span style='font-size:11.0pt'>(training)) </span></span><span
class=OperatorTok><span style='font-size:11.0pt'>==</span></span><span
class=StringTok><span style='font-size:11.0pt'> </span></span><span
class=DecValTok><span style='font-size:11.0pt'>0</span></span><span
class=NormalTok><span style='font-size:11.0pt'>]</span></span><br>
<span class=NormalTok><span style='font-size:11.0pt'>testing &lt;-</span></span><span
class=StringTok><span style='font-size:11.0pt'> </span></span><span
class=NormalTok><span style='font-size:11.0pt'>testing[,</span></span><span
class=KeywordTok><span style='font-size:11.0pt'>colSums</span></span><span
class=NormalTok><span style='font-size:11.0pt'>(</span></span><span
class=KeywordTok><span style='font-size:11.0pt'>is.na</span></span><span
class=NormalTok><span style='font-size:11.0pt'>(testing)) </span></span><span
class=OperatorTok><span style='font-size:11.0pt'>==</span></span><span
class=StringTok><span style='font-size:11.0pt'> </span></span><span
class=DecValTok><span style='font-size:11.0pt'>0</span></span><span
class=NormalTok><span style='font-size:11.0pt'>]</span></span><br>
<br>
<span class=CommentTok><span style='font-size:11.0pt'># Remove columns that are
not predictors. </span></span><br>
<span class=NormalTok><span style='font-size:11.0pt'>training &lt;-</span></span><span
class=StringTok><span style='font-size:11.0pt'> </span></span><span
class=NormalTok><span style='font-size:11.0pt'>training[,</span></span><span
class=OperatorTok><span style='font-size:11.0pt'>-</span></span><span
class=KeywordTok><span style='font-size:11.0pt'>c</span></span><span
class=NormalTok><span style='font-size:11.0pt'>(</span></span><span
class=DecValTok><span style='font-size:11.0pt'>1</span></span><span
class=OperatorTok><span style='font-size:11.0pt'>:</span></span><span
class=DecValTok><span style='font-size:11.0pt'>7</span></span><span
class=NormalTok><span style='font-size:11.0pt'>)]</span></span><br>
<span class=NormalTok><span style='font-size:11.0pt'>testing &lt;-</span></span><span
class=StringTok><span style='font-size:11.0pt'> </span></span><span
class=NormalTok><span style='font-size:11.0pt'>testing[,</span></span><span
class=OperatorTok><span style='font-size:11.0pt'>-</span></span><span
class=KeywordTok><span style='font-size:11.0pt'>c</span></span><span
class=NormalTok><span style='font-size:11.0pt'>(</span></span><span
class=DecValTok><span style='font-size:11.0pt'>1</span></span><span
class=OperatorTok><span style='font-size:11.0pt'>:</span></span><span
class=DecValTok><span style='font-size:11.0pt'>7</span></span><span
class=NormalTok><span style='font-size:11.0pt'>)]</span></span><br>
<br>
<span class=CommentTok><span style='font-size:11.0pt'>#str(training)</span></span><br>
<span class=KeywordTok><span style='font-size:11.0pt'>dim</span></span><span
class=NormalTok><span style='font-size:11.0pt'>(training)</span></span></p>

<p class=SourceCode><span class=VerbatimChar><span style='font-size:11.0pt'>##
[1] 19622    53</span></span></p>

<p class=SourceCode><span class=NormalTok><span style='font-size:11.0pt'>training</span></span><span
class=OperatorTok><span style='font-size:11.0pt'>$</span></span><span
class=NormalTok><span style='font-size:11.0pt'>classe =</span></span><span
class=StringTok><span style='font-size:11.0pt'> </span></span><span
class=KeywordTok><span style='font-size:11.0pt'>factor</span></span><span
class=NormalTok><span style='font-size:11.0pt'>(training</span></span><span
class=OperatorTok><span style='font-size:11.0pt'>$</span></span><span
class=NormalTok><span style='font-size:11.0pt'>classe)</span></span><br>
<span class=CommentTok><span style='font-size:11.0pt'>#testing$classe =
factor(testing$classe)</span></span><br>
<br>
<span class=CommentTok><span style='font-size:11.0pt'># Create a training set
and validation data set</span></span><br>
<span class=NormalTok><span style='font-size:11.0pt'>inTrain &lt;-</span></span><span
class=StringTok><span style='font-size:11.0pt'> </span></span><span
class=KeywordTok><span style='font-size:11.0pt'>createDataPartition</span></span><span
class=NormalTok><span style='font-size:11.0pt'>(</span></span><span
class=DataTypeTok><span style='font-size:11.0pt'>y=</span></span><span
class=NormalTok><span style='font-size:11.0pt'>training</span></span><span
class=OperatorTok><span style='font-size:11.0pt'>$</span></span><span
class=NormalTok><span style='font-size:11.0pt'>classe, </span></span><span
class=DataTypeTok><span style='font-size:11.0pt'>p=</span></span><span
class=FloatTok><span style='font-size:11.0pt'>0.7</span></span><span
class=NormalTok><span style='font-size:11.0pt'>, </span></span><span
class=DataTypeTok><span style='font-size:11.0pt'>list=</span></span><span
class=OtherTok><span style='font-size:11.0pt'>FALSE</span></span><span
class=NormalTok><span style='font-size:11.0pt'>)</span></span><br>
<span class=NormalTok><span style='font-size:11.0pt'>trainSet &lt;-</span></span><span
class=StringTok><span style='font-size:11.0pt'> </span></span><span
class=NormalTok><span style='font-size:11.0pt'>training[inTrain, ] </span></span><br>
<span class=NormalTok><span style='font-size:11.0pt'>validSet &lt;-</span></span><span
class=StringTok><span style='font-size:11.0pt'> </span></span><span
class=NormalTok><span style='font-size:11.0pt'>training[</span></span><span
class=OperatorTok><span style='font-size:11.0pt'>-</span></span><span
class=NormalTok><span style='font-size:11.0pt'>inTrain, ]</span></span></p>

<h1><a name=X8db0bfa373fb82baf3e5de38d0b8db0b4148203>Prediction 1: Recursive
Partitioning and Regression Trees</a></h1>

<p class=SourceCode><span class=NormalTok><span style='font-size:11.0pt'>modDT
&lt;-</span></span><span class=StringTok><span style='font-size:11.0pt'> </span></span><span
class=KeywordTok><span style='font-size:11.0pt'>rpart</span></span><span
class=NormalTok><span style='font-size:11.0pt'>(classe </span></span><span
class=OperatorTok><span style='font-size:11.0pt'>~</span></span><span
class=StringTok><span style='font-size:11.0pt'> </span></span><span
class=NormalTok><span style='font-size:11.0pt'>., </span></span><span
class=DataTypeTok><span style='font-size:11.0pt'>data=</span></span><span
class=NormalTok><span style='font-size:11.0pt'>trainSet, </span></span><span
class=DataTypeTok><span style='font-size:11.0pt'>method=</span></span><span
class=StringTok><span style='font-size:11.0pt'>&quot;class&quot;</span></span><span
class=NormalTok><span style='font-size:11.0pt'>)</span></span><br>
<br>
<span class=CommentTok><span style='font-size:11.0pt'># Plot the Decision Tree</span></span><br>
<span class=KeywordTok><span style='font-size:11.0pt'>fancyRpartPlot</span></span><span
class=NormalTok><span style='font-size:11.0pt'>(modDT)</span></span></p>

<p class=SourceCode><span class=VerbatimChar><span style='font-size:11.0pt'>##
Warning: labs do not fit even at cex 0.15, there may be some overplotting</span></span></p>

<p class=FirstParagraph><img border=0 width=485 height=388 id=Picture
src="image001.png"></p>

<p class=SourceCode><span class=NormalTok><span style='font-size:11.0pt'>predDT
&lt;-</span></span><span class=StringTok><span style='font-size:11.0pt'> </span></span><span
class=KeywordTok><span style='font-size:11.0pt'>predict</span></span><span
class=NormalTok><span style='font-size:11.0pt'>(modDT, validSet, </span></span><span
class=DataTypeTok><span style='font-size:11.0pt'>type =</span></span><span
class=NormalTok><span style='font-size:11.0pt'> </span></span><span
class=StringTok><span style='font-size:11.0pt'>&quot;class&quot;</span></span><span
class=NormalTok><span style='font-size:11.0pt'>)</span></span><br>
<br>
<span class=KeywordTok><span style='font-size:11.0pt'>confusionMatrix</span></span><span
class=NormalTok><span style='font-size:11.0pt'>(predDT, validSet</span></span><span
class=OperatorTok><span style='font-size:11.0pt'>$</span></span><span
class=NormalTok><span style='font-size:11.0pt'>classe)</span></span></p>

<p class=SourceCode><span class=VerbatimChar><span style='font-size:11.0pt'>##
Confusion Matrix and Statistics</span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>## </span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>##           Reference</span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>## Prediction    A   
B    C    D    E</span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>##          A 1476 
160   15   45   13</span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>##          B   57 
731   86   87   85</span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>##          C   44 
125  820  154  129</span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>##          D   71  
73   78  605   72</span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>##          E   26  
50   27   73  783</span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>## </span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>## Overall Statistics</span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>##                                          
</span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>##               
Accuracy : 0.7502          </span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>##                  95%
CI : (0.7389, 0.7612)</span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>##     No Information
Rate : 0.2845          </span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>##     P-Value [Acc
&gt; NIR] : &lt; 2.2e-16       </span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>##                                          
</span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>##                  
Kappa : 0.6839          </span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>##                                          
</span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>##  Mcnemar's Test
P-Value : &lt; 2.2e-16       </span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>## </span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>## Statistics by Class:</span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>## </span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>##                      Class:
A Class: B Class: C Class: D Class: E</span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>##
Sensitivity            0.8817   0.6418   0.7992   0.6276   0.7237</span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>##
Specificity            0.9447   0.9336   0.9070   0.9403   0.9634</span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>## Pos Pred
Value         0.8637   0.6989   0.6447   0.6730   0.8165</span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>## Neg Pred
Value         0.9526   0.9157   0.9553   0.9280   0.9393</span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>##
Prevalence             0.2845   0.1935   0.1743   0.1638   0.1839</span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>## Detection
Rate         0.2508   0.1242   0.1393   0.1028   0.1331</span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>## Detection
Prevalence   0.2904   0.1777   0.2161   0.1528   0.1630</span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>## Balanced
Accuracy      0.9132   0.7877   0.8531   0.7839   0.8435</span></span></p>

<h1><a name=prediction-2-random-forest>Prediction 2: Random Forest</a></h1>

<p class=SourceCode><span class=NormalTok><span style='font-size:11.0pt'>modRF
&lt;-</span></span><span class=StringTok><span style='font-size:11.0pt'> </span></span><span
class=KeywordTok><span style='font-size:11.0pt'>randomForest</span></span><span
class=NormalTok><span style='font-size:11.0pt'>(classe </span></span><span
class=OperatorTok><span style='font-size:11.0pt'>~</span></span><span
class=NormalTok><span style='font-size:11.0pt'>. , </span></span><span
class=DataTypeTok><span style='font-size:11.0pt'>data=</span></span><span
class=NormalTok><span style='font-size:11.0pt'>trainSet, </span></span><span
class=DataTypeTok><span style='font-size:11.0pt'>method=</span></span><span
class=StringTok><span style='font-size:11.0pt'>&quot;class&quot;</span></span><span
class=NormalTok><span style='font-size:11.0pt'>)</span></span><br>
<br>
<span class=NormalTok><span style='font-size:11.0pt'>predRF &lt;-</span></span><span
class=StringTok><span style='font-size:11.0pt'> </span></span><span
class=KeywordTok><span style='font-size:11.0pt'>predict</span></span><span
class=NormalTok><span style='font-size:11.0pt'>(modRF, validSet, </span></span><span
class=DataTypeTok><span style='font-size:11.0pt'>type =</span></span><span
class=NormalTok><span style='font-size:11.0pt'> </span></span><span
class=StringTok><span style='font-size:11.0pt'>&quot;class&quot;</span></span><span
class=NormalTok><span style='font-size:11.0pt'>)</span></span><br>
<br>
<span class=KeywordTok><span style='font-size:11.0pt'>confusionMatrix</span></span><span
class=NormalTok><span style='font-size:11.0pt'>(predRF, validSet</span></span><span
class=OperatorTok><span style='font-size:11.0pt'>$</span></span><span
class=NormalTok><span style='font-size:11.0pt'>classe)</span></span></p>

<p class=SourceCode><span class=VerbatimChar><span style='font-size:11.0pt'>##
Confusion Matrix and Statistics</span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>## </span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>##           Reference</span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>## Prediction    A   
B    C    D    E</span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>##          A 1672   
3    0    0    0</span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>##          B    2 1135   
4    0    0</span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>##          C    0    1
1021    7    0</span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>##          D    0   
0    1  956    1</span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>##          E    0   
0    0    1 1081</span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>## </span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>## Overall Statistics</span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>##                                          
</span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>##               
Accuracy : 0.9966          </span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>##                  95%
CI : (0.9948, 0.9979)</span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>##     No Information
Rate : 0.2845          </span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>##     P-Value [Acc
&gt; NIR] : &lt; 2.2e-16       </span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>##                                          
</span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>##                  
Kappa : 0.9957          </span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>##                            
              </span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>##  Mcnemar's Test
P-Value : NA              </span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>## </span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>## Statistics by Class:</span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>## </span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>##                     
Class: A Class: B Class: C Class: D Class: E</span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>##
Sensitivity            0.9988   0.9965   0.9951   0.9917   0.9991</span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>##
Specificity            0.9993   0.9987   0.9984   0.9996   0.9998</span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>## Pos Pred
Value         0.9982   0.9947   0.9922   0.9979   0.9991</span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>## Neg Pred
Value         0.9995   0.9992   0.9990   0.9984   0.9998</span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>##
Prevalence             0.2845   0.1935   0.1743   0.1638   0.1839</span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>## Detection
Rate         0.2841   0.1929   0.1735   0.1624   0.1837</span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>## Detection
Prevalence   0.2846   0.1939   0.1749   0.1628   0.1839</span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>## Balanced
Accuracy      0.9990   0.9976   0.9967   0.9956   0.9994</span></span></p>

<p class=FirstParagraph><i>From the confusion matrix, the Random Forest (99%)
perform better than Decision Tree (75%) in accuarcy using the validation set.
Hence, we will use the Random Forest on the testing set</i></p>

<h1><a name=perform-prediction-on-testing-set>Perform prediction on testing set</a></h1>

<p class=SourceCode><span class=NormalTok><span style='font-size:11.0pt'>predTest
&lt;-</span></span><span class=StringTok><span style='font-size:11.0pt'> </span></span><span
class=KeywordTok><span style='font-size:11.0pt'>predict</span></span><span
class=NormalTok><span style='font-size:11.0pt'>(modRF, testing, </span></span><span
class=DataTypeTok><span style='font-size:11.0pt'>type=</span></span><span
class=StringTok><span style='font-size:11.0pt'>&quot;class&quot;</span></span><span
class=NormalTok><span style='font-size:11.0pt'>)</span></span><br>
<span class=NormalTok><span style='font-size:11.0pt'>predTest</span></span></p>

<p class=SourceCode><span class=VerbatimChar><span style='font-size:11.0pt'>## 
1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19 20 </span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>##  B  A  B  A  A  E 
D  B  A  A  B  C  B  A  E  E  A  B  B  B </span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>## Levels: A B C D E</span></span></p>

</div>

</body>

</html>
